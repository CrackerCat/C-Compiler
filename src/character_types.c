#include "character_types.h"

#include <limits.h>

enum {
	C_DIGIT = 0x1,
	C_OCTAL_DIGIT = 0x2,
	C_HEXADECIMAL_DIGIT = 0x4,
	C_SPACE = 0x10,
	C_IDENTIFIER_NONDIGIT = 0x20,
};

static const unsigned char char_props[UCHAR_MAX] = {
	['\t'] = 0x10, 0x10, 0x10, 0x10,
	[' '] = 0x10, ['$'] = 0x20,
	['_'] = 0x20,
	['0'] = 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x5, 0x5,
	['A'] = 0x24, 0x24, 0x24, 0x24, 0x24, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	['a'] = 0x24, 0x24, 0x24, 0x24, 0x24, 0x24, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
	0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
};

#define HAS_PROP(C, PROP) (char_props[(unsigned char)(C)] & (PROP))

int is_octal(int c) {
	return HAS_PROP(c, C_OCTAL_DIGIT);
}

int is_decimal(int c) {
	return HAS_PROP(c, C_DIGIT);
}

int is_hexadecimal(int c) {
	return HAS_PROP(c, C_HEXADECIMAL_DIGIT);
}

int is_space(int c) {
	return HAS_PROP(c, C_SPACE);
}

int is_nondigit_identifier(int c) {
	return HAS_PROP(c, C_IDENTIFIER_NONDIGIT);
}
